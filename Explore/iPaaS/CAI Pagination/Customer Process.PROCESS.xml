<aetgt:getResponse xmlns:aetgt="http://schemas.active-endpoints.com/appmodules/repository/2010/10/avrepository.xsd"
                   xmlns:types1="http://schemas.active-endpoints.com/appmodules/repository/2010/10/avrepository.xsd">
   <types1:Item>
      <types1:EntryId>wdrtRuImXycotFg-gt-1178899-2025-03-06T21:34:12.361Z::pd.xml</types1:EntryId>
      <types1:Name>Customer_Process</types1:Name>
      <types1:MimeType>application/xml+process</types1:MimeType>
      <types1:Description/>
      <types1:AppliesTo/>
      <types1:Tags/>
      <types1:VersionLabel>1.0</types1:VersionLabel>
      <types1:State>CURRENT</types1:State>
      <types1:ProcessGroup/>
      <types1:CreatedBy>joramos_LATAM_Carlos_tspod_SO</types1:CreatedBy>
      <types1:CreationDate>2025-03-06T21:34:12Z</types1:CreationDate>
      <types1:ModifiedBy>joramos_LATAM_Carlos_tspod_SO</types1:ModifiedBy>
      <types1:ModificationDate>2025-03-11T17:40:51Z</types1:ModificationDate>
      <types1:PublicationStatus>out-of-date</types1:PublicationStatus>
      <types1:PublishedBy>joramos_LATAM_Carlos_tspod_SO</types1:PublishedBy>
      <types1:PublicationDate>2025-03-11T17:40:59Z</types1:PublicationDate>
      <types1:PublishedContributionId>project:/spi.Customer_Process/Customer_Process.pd.xml</types1:PublishedContributionId>
      <types1:Entry>
         <process xmlns="http://schemas.active-endpoints.com/appmodules/screenflow/2010/10/avosScreenflow.xsd"
                  xmlns:tfm="http://schemas.active-endpoints.com/appmodules/screenflow/2021/04/taskflowModel.xsd"
                  xmlns:list="urn:activevos:spi:list:functions"
                  GUID="4L0daQ56MJ1h9zv1qFNSU1"
                  displayName="Customer Process"
                  name="Customer_Process"
                  overrideAPIName="false"
                  processNamespace="urn:screenflow:process:">
            <parameterSet xmlns="http://schemas.active-endpoints.com/appmodules/screenflow/2021/04/taskflowModel.xsd"/>
            <appliesTo/>
            <description/>
            <tags/>
            <generator>Informatica Process Designer 11</generator>
            <input>
               <parameter description=""
                          name="offset_InputParam"
                          required="true"
                          type="int">
                  <options>
                     <option name="required">false</option>
                  </options>
               </parameter>
               <parameter description=""
                          name="fetch_InputParam"
                          required="true"
                          type="int">
                  <options>
                     <option name="required">false</option>
                  </options>
               </parameter>
               <parameter description=""
                          name="client_idInputParam"
                          required="true"
                          type="string">
                  <options>
                     <option name="required">false</option>
                  </options>
               </parameter>
               <parameter description=""
                          name="client_secret_InputParam"
                          required="true"
                          type="string">
                  <options>
                     <option name="required">false</option>
                  </options>
               </parameter>
            </input>
            <output>
               <field description="This can be 'error' or 'success'"
                      name="status"
                      type="string">
                  <options>
                     <option name="required">false</option>
                  </options>
               </field>
               <field description="" name="statusCode" type="int">
                  <options>
                     <option name="required">false</option>
                     <option name="initialvalue">200</option>
                  </options>
               </field>
               <field description="" name="summary" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="processId" type="string">
                  <options>
                     <option name="required">false</option>
                  </options>
               </field>
            </output>
            <tempFields>
               <field description="" name="tempPagesNumber" type="int">
                  <options>
                     <option name="required">false</option>
                     <option name="initialvalue">1</option>
                  </options>
               </field>
               <field description="" name="tempCurrentCustomer" type="reference">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                  </options>
               </field>
               <field description="" name="tempCustomerList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempConsumerAList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempConsumerBList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempConsumerCList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempConsumerOtherList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempSuccessResponseList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempEmptyList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
               <field description="" name="tempErrorResponseList" type="objectlist">
                  <options>
                     <option name="required">false</option>
                     <option name="required">false</option>
                     <option name="required">false</option>
                     <option name="referenceTo">$po:$any</option>
                     <option name="isCopy">true</option>
                     <option hide="true" name="multiSelect">true</option>
                  </options>
               </field>
            </tempFields>
            <notes/>
            <deployment skipIfRunning="false" suspendOnFault="false" tracingLevel="verbose">
               <rest>
                  <allowAnonymousAccess/>
               </rest>
            </deployment>
            <extData>
               <nvpair name="treatEmptyStringAsNotNull">false</nvpair>
               <nvpair name="treatEmptyStringAsNull">true</nvpair>
               <nvpair name="treatEmptyObjectListAsArray">true</nvpair>
               <nvpair name="treatEmptyObjectListAsNotArray">false</nvpair>
            </extData>
            <flow id="f75d0a314-cf81-4a52-b54c-6f0c6866ab5d">
               <start id="zf737ced6-ed1b-4faa-8a3d-a72a7c7203c0">
                  <link id="kc7cdf519-0575-4c80-a7b0-bb2a99cb6f00"
                        targetId="a14L0daQ56MJ1h9zv1qFNSU1-Service74bbdb69-b0be-4c9c-90f1-6b42ce93c822"/>
               </start>
               <service id="a14L0daQ56MJ1h9zv1qFNSU1-Service74bbdb69-b0be-4c9c-90f1-6b42ce93c822">
                  <title>ABC Inc API Token</title>
                  <serviceName>ABCIncApiServiceConnection:Get Token</serviceName>
                  <serviceGUID>8btWD0tMBJ0fAJfYY0vCG3</serviceGUID>
                  <serviceInput>
                     <parameter name="client_id" source="field">input.client_idInputParam</parameter>
                     <parameter name="client_secret" source="field">input.client_secret_InputParam</parameter>
                  </serviceInput>
                  <link id="z289edae9-c7c5-45a0-abef-2d936f5b43df"
                        targetId="a14L0daQ56MJ1h9zv1qFNSU1-m31mtd0e"/>
               </service>
               <service id="a14L0daQ56MJ1h9zv1qFNSU1-m31mtd0e">
                  <title>ABC Inc API Get Customers</title>
                  <serviceName>ABCIncApiServiceConnection:Customers Search</serviceName>
                  <serviceGUID>8btWD0tMBJ0fAJfYY0vCG3</serviceGUID>
                  <serviceInput>
                     <parameter name="offset" source="field">input.offset_InputParam</parameter>
                     <parameter name="fetch" source="field">input.fetch_InputParam</parameter>
                     <parameter name="authtoken" source="field">output.responseauthtoken</parameter>
                  </serviceInput>
                  <link id="vfb00eec8-1503-419e-a949-079036167a9a"
                        targetId="a14L0daQ56MJ1h9zv1qFNSU1-Assignment52a20790-5430-4722-9914-8359e000c2b4"/>
               </service>
               <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment52a20790-5430-4722-9914-8359e000c2b4">
                  <title>Get Customer List</title>
                  <operation source="formula" to="temp.tempCustomerList">
                     <expression language="XQuery">list:list($output.customersearchresult//pageItems)</expression>
                  </operation>
                  <link id="w188dcfa6-5a99-42a6-b75a-2e1fb8fd5167"
                        targetId="a14L0daQ56MJ1h9zv1qFNSU1-m1l0gnf1"/>
               </assignment>
               <container id="a14L0daQ56MJ1h9zv1qFNSU1-m1l0gnf1" type="exclusive">
                  <title>index Customer</title>
                  <flow id="v06778ce8-c61d-4892-83f4-153e4903c1fd">
                     <container id="a14L0daQ56MJ1h9zv1qFNSU1-ParallelPathc78242c6-5a50-4c87-9947-c3166b290576"
                                type="parallel">
                        <title>Consumer Dispatcher</title>
                        <flow id="ib3b2c983-3b80-4c40-853b-47738a9ebe83">
                           <eventContainer id="a14L0daQ56MJ1h9zv1qFNSU1-Subprocessb489e00f-44a0-4611-8c62-90d28c5ddefa">
                              <subflow id="s7329f1e7-0573-4efe-9013-8cf2fa84fa3f">
                                 <title>Consumer A Subprocess</title>
                                 <subflowGUID>80z4FnditAPhkRzQTdZiUX</subflowGUID>
                                 <subflowPath>Consumer_A_SubProcess</subflowPath>
                                 <appliesTo/>
                                 <runForEach>false</runForEach>
                                 <input>
                                    <parameter name="consumerAList" source="field" updatable="true">temp.tempConsumerAList</parameter>
                                 </input>
                                 <outputDef>
                                    <field description="" name="responseConsumerASubProcess" type="string">
                                       <options>
                                          <option name="required">false</option>
                                          <option name="initialvalue">{'{ "response":  {  "Consumer A": "Ignoring Empty List."} }'}</option>
                                       </options>
                                    </field>
                                 </outputDef>
                              </subflow>
                              <flow id="hf6533af2-6655-47bc-b8da-187b2180a403">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment170adae9-47b0-4a71-96a2-890f492ca453">
                                    <title>Add Response Success Consumer A</title>
                                    <operation source="formula" to="temp.tempSuccessResponseList">
                                       <expression language="XQuery">list:append( $temp.tempSuccessResponseList , util:parseJSON($output.responseConsumerASubProcess))</expression>
                                    </operation>
                                 </assignment>
                                 <link id="l3db6be14-e6f7-49f4-b411-8d7589c3f754"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocessb489e00f-44a0-4611-8c62-90d28c5ddefa"
                                       type="containerLink"/>
                              </flow>
                              <flow id="r6afc2d96-fed3-4dab-9552-de1a0d953012">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment45910d69-f55b-43e8-a1f6-3590e0eccd97">
                                    <title>Add Response Error Consumer A</title>
                                    <operation source="formula" to="temp.tempErrorResponseList">
                                       <expression language="XQuery">  let $custPartIds := &lt;test&gt;&lt;Customers&gt;{
    for $customer in $temp.tempConsumerAList
         return fn:concat ($customer/party_id/text(),",")   
}&lt;/Customers&gt;&lt;/test&gt;

let $a:='{
    "error": {
        "ConsumerA_List": "'||$custPartIds||'",
        "FaultInfoCode": "'||$output.faultInfoConsumerA[1]/code||'",
        "FaultInfoDetail": "'||$output.faultInfoConsumerA[1]/detail||'",
        "FaultInfoReason": "'||$output.faultInfoConsumerA[1]/reason||'"
    }
}'

return list:append( $temp.tempErrorResponseList , util:parseJSON($a)) </expression>
                                    </operation>
                                 </assignment>
                                 <link id="m0e7bf53f-a387-4c4b-bcbb-dae8030cef85"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocessb489e00f-44a0-4611-8c62-90d28c5ddefa"
                                       type="containerLink"/>
                              </flow>
                              <link id="zd8bcc3f6-1654-49c0-8c43-e44c80398e56"
                                    targetId="hf6533af2-6655-47bc-b8da-187b2180a403"
                                    type="containerLink"/>
                              <events>
                                 <catch faultField="faultInfoConsumerA"
                                        id="f51d2761d-57ce-4d28-8639-6d78339415f2"
                                        interrupting="true">
                                    <link id="y99afc629-60d6-4fcf-a3bf-148d0b299b5a"
                                          targetId="r6afc2d96-fed3-4dab-9552-de1a0d953012"
                                          type="containerLink"/>
                                 </catch>
                              </events>
                           </eventContainer>
                           <link id="rc090fb2a-e891-4949-a36e-1dd89a71125c"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-ParallelPathc78242c6-5a50-4c87-9947-c3166b290576"
                                 type="containerLink"/>
                        </flow>
                        <flow id="iad4c1c53-07e9-47d8-ad27-838d662d4ba2">
                           <eventContainer id="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess2d398510-f809-4c09-9537-9cd593aa1743">
                              <subflow id="gd213acee-9530-496c-be07-815f8c87f068">
                                 <title>Consumer B Subprocess</title>
                                 <subflowGUID>aNbfAH72Y28gY8vqfzwWCM</subflowGUID>
                                 <subflowPath>Consumer_B_SubProcess</subflowPath>
                                 <appliesTo/>
                                 <runForEach>false</runForEach>
                                 <input>
                                    <parameter name="consumerBList" source="formula" updatable="true">
                                       <expression language="XQuery">$temp.tempConsumerBList</expression>
                                    </parameter>
                                 </input>
                                 <outputDef>
                                    <field description="" name="responseConsumerB" type="string">
                                       <options>
                                          <option name="required">false</option>
                                          <option name="initialvalue">{'{ "response":  {  "Consumer B": "Ignoring Empty List."} }'}</option>
                                       </options>
                                    </field>
                                 </outputDef>
                              </subflow>
                              <flow id="s32957d11-3070-4787-9ade-b5c2af83cfa0">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment3d1720ae-a8f4-4e53-98af-5255c408d191">
                                    <title>Add Response Success Consumer B</title>
                                    <operation source="formula" to="temp.tempSuccessResponseList">
                                       <expression language="XQuery">list:append( $temp.tempSuccessResponseList , util:parseJSON($output.responseConsumerB))</expression>
                                    </operation>
                                 </assignment>
                                 <link id="c0da4bfb6-7e6f-4bf0-a9e3-944c24f25071"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess2d398510-f809-4c09-9537-9cd593aa1743"
                                       type="containerLink"/>
                              </flow>
                              <flow id="h2fb57277-2927-4e03-85c3-109327c9547f">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment798d3aaa-51e3-4b30-8913-d1a35dfbf91b">
                                    <title>Add Response Error Consumer B</title>
                                    <operation source="formula" to="temp.tempErrorResponseList">
                                       <expression language="XQuery">  let $custPartIds := &lt;test&gt;&lt;Customers&gt;{
    for $customer in $temp.tempConsumerBList
         return fn:concat ($customer/party_id/text(),",")   
}&lt;/Customers&gt;&lt;/test&gt;

let $a:='{
    "error": {
        "ConsumerB_List": "'||$custPartIds||'",
        "FaultInfoCode": "'||$output.faultInfoConsumerB[1]/code||'",
        "FaultInfoDetail": "'||$output.faultInfoConsumerB[1]/detail||'",
        "FaultInfoReason": "'||$output.faultInfoConsumerB[1]/reason||'"
    }
}'

return list:append( $temp.tempErrorResponseList , util:parseJSON($a)) </expression>
                                    </operation>
                                 </assignment>
                                 <link id="e8ff0bb27-21a9-43b0-baf3-f4650f18b2ad"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess2d398510-f809-4c09-9537-9cd593aa1743"
                                       type="containerLink"/>
                              </flow>
                              <link id="mf7ac9945-c99b-404d-b39a-fab6f3936185"
                                    targetId="s32957d11-3070-4787-9ade-b5c2af83cfa0"
                                    type="containerLink"/>
                              <events>
                                 <catch faultField="faultInfoConsumerB"
                                        id="z973df2a2-052e-44b5-82ba-67029603c4f5"
                                        interrupting="true">
                                    <link id="i130334a7-6a31-4035-a45f-1c2c4481cab8"
                                          targetId="h2fb57277-2927-4e03-85c3-109327c9547f"
                                          type="containerLink"/>
                                 </catch>
                              </events>
                           </eventContainer>
                           <link id="c5397de5d-25c6-4173-a019-e393bd4bbe60"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-ParallelPathc78242c6-5a50-4c87-9947-c3166b290576"
                                 type="containerLink"/>
                        </flow>
                        <flow id="h231e0e5d-4a41-4107-b9b9-4c04e0d1f569">
                           <eventContainer id="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess5b752819-34c4-4f4d-a082-6071217d4a67">
                              <subflow id="f058bfce3-a0bb-41c8-9e1d-c22de13478b3">
                                 <title>Consumer C SubProcess</title>
                                 <subflowGUID>c0lKqsoWIAGedWOictdAeI</subflowGUID>
                                 <subflowPath>Consumer_C_SubProcess</subflowPath>
                                 <appliesTo/>
                                 <runForEach>false</runForEach>
                                 <input>
                                    <parameter name="consumerCList" source="formula" updatable="true">
                                       <expression language="XQuery">$temp.tempConsumerCList</expression>
                                    </parameter>
                                 </input>
                                 <outputDef>
                                    <field description="" name="responseConsumerC" type="string">
                                       <options>
                                          <option name="required">false</option>
                                          <option name="initialvalue">{'{ "response":  {  "Consumer C": "Ignoring Empty List."} }'}</option>
                                       </options>
                                    </field>
                                 </outputDef>
                              </subflow>
                              <flow id="w1d391953-ed74-4f8f-8da3-21f56f137dd7">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment685645b2-5aaa-41aa-9e5b-b07784625b62">
                                    <title>Add Response Success Consumer C</title>
                                    <operation source="formula" to="temp.tempSuccessResponseList">
                                       <expression language="XQuery">list:append( $temp.tempSuccessResponseList , util:parseJSON($output.responseConsumerC))</expression>
                                    </operation>
                                 </assignment>
                                 <link id="q7ed1be20-cf7a-4fcf-94e8-61eddb4af11e"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess5b752819-34c4-4f4d-a082-6071217d4a67"
                                       type="containerLink"/>
                              </flow>
                              <flow id="a4f1fe500-6962-48eb-8951-ed6e39e4a76f">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment843ed819-a42a-4391-a930-91d9208e8b31">
                                    <title>Add Response Error Consumer C</title>
                                    <operation source="formula" to="temp.tempErrorResponseList">
                                       <expression language="XQuery">  let $custPartIds := &lt;test&gt;&lt;Customers&gt;{
    for $customer in $temp.tempConsumerCList
         return fn:concat ($customer/party_id/text(),",")   
}&lt;/Customers&gt;&lt;/test&gt;

let $a:='{
    "error": {
        "ConsumerC_List": "'||$custPartIds||'",
        "FaultInfoCode": "'||$output.faultInfoConsumerC[1]/code||'",
        "FaultInfoDetail": "'||$output.faultInfoConsumerC[1]/detail||'",
        "FaultInfoReason": "'||$output.faultInfoConsumerC[1]/reason||'"
    }
}'

return list:append( $temp.tempErrorResponseList , util:parseJSON($a)) </expression>
                                    </operation>
                                 </assignment>
                                 <link id="d6b698ee8-5d48-4815-80d9-134047e3aa7a"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess5b752819-34c4-4f4d-a082-6071217d4a67"
                                       type="containerLink"/>
                              </flow>
                              <link id="jf229cc06-172a-42d6-a32c-c493f5f6e7b9"
                                    targetId="w1d391953-ed74-4f8f-8da3-21f56f137dd7"
                                    type="containerLink"/>
                              <events>
                                 <catch faultField="faultInfoConsumerC"
                                        id="k7fc99b07-e3db-4689-bf0d-4a2d83b5446d"
                                        interrupting="true">
                                    <link id="f74e7e06b-72b9-4aad-9345-89e7ef0048f6"
                                          targetId="a4f1fe500-6962-48eb-8951-ed6e39e4a76f"
                                          type="containerLink"/>
                                 </catch>
                              </events>
                           </eventContainer>
                           <link id="g28494820-0c9d-4b82-8c13-55566ff967f4"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-ParallelPathc78242c6-5a50-4c87-9947-c3166b290576"
                                 type="containerLink"/>
                        </flow>
                        <flow id="m52475f6c-599c-4d2d-8c2c-8bb50def7a8b">
                           <eventContainer id="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess3a4b9a27-d120-4ae9-833d-e1d12bb46fdc">
                              <subflow id="f43907147-563c-4f85-8a3c-4f1d4265ebd1">
                                 <title>Consumer Other Subprocess</title>
                                 <subflowGUID>70NdRvlueE2e1qNZKfrvw0</subflowGUID>
                                 <subflowPath>Consumer_Other_SubProcess</subflowPath>
                                 <appliesTo/>
                                 <runForEach>false</runForEach>
                                 <input>
                                    <parameter name="consumerOtherList" source="formula" updatable="true">
                                       <expression language="XQuery">$temp.tempConsumerOtherList</expression>
                                    </parameter>
                                 </input>
                                 <outputDef>
                                    <field description="" name="responseConsumerOther" type="string">
                                       <options>
                                          <option name="required">false</option>
                                          <option name="initialvalue">{'{ "response":  {  "Consumer Other": "Ignoring Empty List."} }'}</option>
                                       </options>
                                    </field>
                                 </outputDef>
                              </subflow>
                              <flow id="t2557509e-e744-4e00-92dd-25728ac8f90b">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment9b189b2c-9a02-4048-b87c-3d56353499d6">
                                    <title>Add Response Success Consumer Other</title>
                                    <operation source="formula" to="temp.tempSuccessResponseList">
                                       <expression language="XQuery">list:append( $temp.tempSuccessResponseList , util:parseJSON($output.responseConsumerOther))</expression>
                                    </operation>
                                 </assignment>
                                 <link id="z4a96ebfc-3378-48f2-9d23-e5420f36e73b"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess3a4b9a27-d120-4ae9-833d-e1d12bb46fdc"
                                       type="containerLink"/>
                              </flow>
                              <flow id="r1e22ecfa-6c4f-40e4-9dab-06a3d5a1072f">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment30830bc3-4a48-4cf3-ae09-d7dcc0e50c1e">
                                    <title>Add Response Error Consumer Other</title>
                                    <operation source="formula" to="temp.tempErrorResponseList">
                                       <expression language="XQuery">  let $custPartIds := &lt;test&gt;&lt;Customers&gt;{
    for $customer in $temp.tempConsumerOtherList
         return fn:concat ($customer/party_id/text(),",")   
}&lt;/Customers&gt;&lt;/test&gt;

let $a:='{
    "error": {
        "ConsumerOther_List": "'||$custPartIds||'",
        "FaultInfoCode": "'||$output.faultInfoConsumerOther[1]/code||'",
        "FaultInfoDetail": "'||$output.faultInfoConsumerOther[1]/detail||'",
        "FaultInfoReason": "'||$output.faultInfoConsumerOther[1]/reason||'"
    }
}'

return list:append( $temp.tempErrorResponseList , util:parseJSON($a)) </expression>
                                    </operation>
                                 </assignment>
                                 <link id="d5c3cb731-af64-436b-b728-ac9b1becad55"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Subprocess3a4b9a27-d120-4ae9-833d-e1d12bb46fdc"
                                       type="containerLink"/>
                              </flow>
                              <link id="l7fb8a482-9347-45d6-a1ec-4eba6301ab97"
                                    targetId="t2557509e-e744-4e00-92dd-25728ac8f90b"
                                    type="containerLink"/>
                              <events>
                                 <catch faultField="faultInfoConsumerOther"
                                        id="yeb7e5795-ca2e-4180-8a12-adb5414dabef"
                                        interrupting="true">
                                    <link id="kd20a2d43-3181-47b6-bd9f-62016cbdc5bc"
                                          targetId="r1e22ecfa-6c4f-40e4-9dab-06a3d5a1072f"
                                          type="containerLink"/>
                                 </catch>
                              </events>
                           </eventContainer>
                           <link id="m5f832b0b-2bf7-404f-81d6-6566770dd5dd"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-ParallelPathc78242c6-5a50-4c87-9947-c3166b290576"
                                 type="containerLink"/>
                        </flow>
                        <link id="fe30df806-7d6c-478a-9b1c-8674bd08e71f"
                              targetId="ib3b2c983-3b80-4c40-853b-47738a9ebe83"
                              type="containerLink"/>
                        <link id="qb40659bb-63dc-4b57-9dda-6487dce0ba53"
                              targetId="iad4c1c53-07e9-47d8-ad27-838d662d4ba2"
                              type="containerLink"/>
                        <link id="pf38e52bf-836e-46ed-9580-77044273ff2c"
                              targetId="h231e0e5d-4a41-4107-b9b9-4c04e0d1f569"
                              type="containerLink"/>
                        <link id="x5c4f4063-7639-4af2-a6c5-330a9a12d1a7"
                              targetId="m52475f6c-599c-4d2d-8c2c-8bb50def7a8b"
                              type="containerLink"/>
                        <link id="bfd0b233f-3876-4452-b114-67bfea1a01fd"
                              targetId="a14L0daQ56MJ1h9zv1qFNSU1-m1l0gnek"/>
                     </container>
                     <container id="a14L0daQ56MJ1h9zv1qFNSU1-Decision7f5df5b2-1e1b-4497-a719-b94354df9ad7"
                                type="exclusive">
                        <title>next Page</title>
                        <flow id="e731ba28f-b2a2-43b1-a62f-806f8310c926">
                           <container id="a14L0daQ56MJ1h9zv1qFNSU1-Decisionf8615e43-6863-4d24-a2e3-182a82d43d42"
                                      type="exclusive">
                              <title>Has a FaultInfo</title>
                              <flow id="ma2ebe1a7-6107-4191-bee9-cbe79df99014">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignmentdef8bf1c-8312-415d-a371-8dee44cbd5e9">
                                    <title>Set Success Response</title>
                                    <operation source="constant" to="output.status">sucess</operation>
                                    <operation source="constant" to="output.statusCode">200</operation>
                                    <operation source="field" to="output.summary">temp.tempSuccessResponseList</operation>
                                    <operation source="formula" to="output.processId">
                                       <expression language="XQuery">util:getProcessId()</expression>
                                    </operation>
                                 </assignment>
                                 <link id="q9129d0f5-1822-4150-b6d1-57824e888bac"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decisionf8615e43-6863-4d24-a2e3-182a82d43d42"
                                       type="containerLink"/>
                              </flow>
                              <flow id="d3dcc86a6-1de7-49c3-89e1-182472919cda">
                                 <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignmentfdd5de59-1115-4544-9cdc-c1e6e8b3684d">
                                    <title>Set Error Response</title>
                                    <operation source="constant" to="output.status">error</operation>
                                    <operation source="constant" to="output.statusCode">500</operation>
                                    <operation source="field" to="output.summary">temp.tempErrorResponseList</operation>
                                    <operation source="formula" to="output.processId">
                                       <expression language="XQuery">util:getProcessId()</expression>
                                    </operation>
                                 </assignment>
                                 <link id="b7457d42b-cc7f-46d9-ae11-7e8f85a984b4"
                                       targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decisionf8615e43-6863-4d24-a2e3-182a82d43d42"
                                       type="containerLink"/>
                              </flow>
                              <link id="l5bdb02da-27e1-4880-b141-90a2bd2b74ed"
                                    targetId="ma2ebe1a7-6107-4191-bee9-cbe79df99014"
                                    type="containerLink">
                                 <condition source="formula">
                                    <function name="empty">
                                       <arg name="field">{$temp.tempErrorResponseList}</arg>
                                    </function>
                                 </condition>
                              </link>
                              <link id="t6dc3f2ad-54e4-4fae-b2d5-f8d22fb3fe1e"
                                    targetId="d3dcc86a6-1de7-49c3-89e1-182472919cda"
                                    type="containerLink">
                                 <condition source="formula">
                                    <function name="not-empty">
                                       <arg name="field">{$temp.tempErrorResponseList}</arg>
                                    </function>
                                 </condition>
                              </link>
                           </container>
                           <link id="if28a44ec-b72c-414a-8a26-7592ec962d97"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision7f5df5b2-1e1b-4497-a719-b94354df9ad7"
                                 type="containerLink"/>
                        </flow>
                        <flow id="mdefb5878-d7a1-4885-ba6e-1d65f6c9db85">
                           <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment29e07b6c-160a-46f9-82bf-172248b99b9c">
                              <title>Set New Offset</title>
                              <operation source="formula" to="input.offset_InputParam">
                                 <expression language="XQuery">$input.offset_InputParam + $input.fetch_InputParam</expression>
                              </operation>
                              <link id="u31d0ad48-e126-45e4-9d95-a7d055b63990"
                                    targetId="a14L0daQ56MJ1h9zv1qFNSU1-Assignmentf6e668c6-300c-4fa0-ac8c-6f26bff035ad"/>
                           </assignment>
                           <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignmentf6e668c6-300c-4fa0-ac8c-6f26bff035ad">
                              <title>Clear Consumers List</title>
                              <operation source="field" to="temp.tempConsumerAList">temp.tempEmptyList</operation>
                              <operation source="field" to="temp.tempConsumerBList">temp.tempEmptyList</operation>
                              <operation source="field" to="temp.tempConsumerCList">temp.tempEmptyList</operation>
                              <operation source="field" to="temp.tempConsumerOtherList">temp.tempEmptyList</operation>
                              <link id="d4226ba67-baf3-42e6-ac39-f40ae198b123"
                                    targetId="a14L0daQ56MJ1h9zv1qFNSU1-Jump95ab86a0-f8f3-40cd-ac05-15b0d86ea12b"/>
                           </assignment>
                           <jumpTo id="a14L0daQ56MJ1h9zv1qFNSU1-Jump95ab86a0-f8f3-40cd-ac05-15b0d86ea12b">
                              <link id="f8a9c5a75-6223-4e46-b905-31fdbc7d640b"
                                    targetId="a14L0daQ56MJ1h9zv1qFNSU1-m31mtd0e"/>
                           </jumpTo>
                        </flow>
                        <link id="d621ad682-3dca-447f-a73f-4bb9af2a9f79"
                              targetId="e731ba28f-b2a2-43b1-a62f-806f8310c926"
                              type="containerLink">
                           <condition source="formula">
                              <function name="less-or-equals">
                                 <arg name="left" source="formula">{$temp.tempPagesNumber}</arg>
                                 <arg name="right">0</arg>
                              </function>
                           </condition>
                        </link>
                        <link id="n061c02cc-3f5e-4f26-ae64-9164ea7f23e5"
                              targetId="mdefb5878-d7a1-4885-ba6e-1d65f6c9db85"
                              type="containerLink"/>
                        <link id="j662152cd-e5d5-4bb7-95bf-9cfac768fdd8"
                              targetId="a14L0daQ56MJ1h9zv1qFNSU1-End38e0328d-0f3b-4d89-a946-c543ee58eea1"/>
                     </container>
                     <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-m1l0gnek">
                        <title>Get Pending pages to process</title>
                        <operation source="formula" to="temp.tempPagesNumber">
                           <expression language="XQuery">fn:ceiling( ($output.customersearchresult//totalRecords - $input.offset_InputParam) div $input.fetch_InputParam) - 1</expression>
                        </operation>
                        <link id="j89e48ca9-edce-4535-92b1-c8512604710a"
                              targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision7f5df5b2-1e1b-4497-a719-b94354df9ad7"/>
                     </assignment>
                     <end id="a14L0daQ56MJ1h9zv1qFNSU1-End38e0328d-0f3b-4d89-a946-c543ee58eea1">
                        <title>End</title>
                     </end>
                  </flow>
                  <flow id="g41688132-8e03-405f-92ab-7ef2fc0fe366">
                     <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment22576c0e-ab87-475d-823d-1b75f1ec945f">
                        <title>Get Current Customer</title>
                        <operation source="formula" to="temp.tempCurrentCustomer">
                           <expression language="XQuery">list:head( $temp.tempCustomerList )</expression>
                        </operation>
                        <operation source="formula" to="temp.tempCustomerList">
                           <expression language="XQuery">list:tail( $temp.tempCustomerList )</expression>
                        </operation>
                        <link id="vc64241d2-e78a-43a6-aae0-4eaa85654033"
                              targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision8c6c0bae-29b8-44d9-9e7d-e366b9b360a2"/>
                     </assignment>
                     <container id="a14L0daQ56MJ1h9zv1qFNSU1-Decision8c6c0bae-29b8-44d9-9e7d-e366b9b360a2"
                                type="exclusive">
                        <title>Consumer Routing</title>
                        <flow id="d134e1e87-b0a1-41f7-8045-be9344102e33">
                           <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment22a452f7-7154-48c6-9830-1c2f68c78eea">
                              <title>Add Consumer A List</title>
                              <operation source="formula" to="temp.tempConsumerAList">
                                 <expression language="XQuery">list:append( $temp.tempConsumerAList , $temp.tempCurrentCustomer )</expression>
                              </operation>
                           </assignment>
                           <link id="q91dc4e48-8d31-48c3-813f-66d600ac01d4"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision8c6c0bae-29b8-44d9-9e7d-e366b9b360a2"
                                 type="containerLink"/>
                        </flow>
                        <flow id="o627d4358-dde5-4ee6-a0b8-8458e76d331c">
                           <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignment654e38ce-6c4d-4780-9af1-8e872ccbacc0">
                              <title>Add Consumer B List</title>
                              <operation source="formula" to="temp.tempConsumerBList">
                                 <expression language="XQuery">list:append( $temp.tempConsumerBList , $temp.tempCurrentCustomer )</expression>
                              </operation>
                           </assignment>
                           <link id="vb737567a-3f77-497f-a5aa-360c660a1a55"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision8c6c0bae-29b8-44d9-9e7d-e366b9b360a2"
                                 type="containerLink"/>
                        </flow>
                        <flow id="k283ef2bb-0e1a-438b-955b-bc6b6310d972">
                           <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignmentcd249778-cf0d-4588-8ec3-e327b4673618">
                              <title>Add Consumer C List</title>
                              <operation source="formula" to="temp.tempConsumerCList">
                                 <expression language="XQuery">list:append( $temp.tempConsumerCList , $temp.tempCurrentCustomer )</expression>
                              </operation>
                           </assignment>
                           <link id="d0b7eaace-f741-4dbb-84be-ff7e55ddd7c2"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision8c6c0bae-29b8-44d9-9e7d-e366b9b360a2"
                                 type="containerLink"/>
                        </flow>
                        <flow id="g0be50296-8d7c-4c3d-afd9-17ebcc101b58">
                           <assignment id="a14L0daQ56MJ1h9zv1qFNSU1-Assignmentd15e80f6-44d7-4426-a403-983982427d3f">
                              <title>Add Consumer Other List</title>
                              <operation source="formula" to="temp.tempConsumerOtherList">
                                 <expression language="XQuery">list:append( $temp.tempConsumerOtherList , $temp.tempCurrentCustomer )</expression>
                              </operation>
                           </assignment>
                           <link id="l5d47847c-8d24-4b4f-b957-9508d932b3d2"
                                 targetId="a14L0daQ56MJ1h9zv1qFNSU1-Decision8c6c0bae-29b8-44d9-9e7d-e366b9b360a2"
                                 type="containerLink"/>
                        </flow>
                        <link id="y6d5f36dd-d560-4eb5-8eb5-f5d70977fa43"
                              targetId="d134e1e87-b0a1-41f7-8045-be9344102e33"
                              type="containerLink">
                           <condition source="formula">
                              <function name="string-equals">
                                 <arg name="left" source="formula">{$temp.tempCurrentCustomer/consumer/text()}</arg>
                                 <arg name="right">ConsumerA</arg>
                              </function>
                           </condition>
                        </link>
                        <link id="mb9b20b25-2c6c-4945-a03f-8b4a5796ccb4"
                              targetId="o627d4358-dde5-4ee6-a0b8-8458e76d331c"
                              type="containerLink">
                           <condition source="formula">
                              <function name="string-equals">
                                 <arg name="left" source="formula">{$temp.tempCurrentCustomer/consumer/text()}</arg>
                                 <arg name="right">ConsumerB</arg>
                              </function>
                           </condition>
                        </link>
                        <link id="o982db589-a569-45d5-a6fd-db00a6adf913"
                              targetId="k283ef2bb-0e1a-438b-955b-bc6b6310d972"
                              type="containerLink">
                           <condition source="formula">
                              <function name="string-equals">
                                 <arg name="left" source="formula">{$temp.tempCurrentCustomer/consumer/text()}</arg>
                                 <arg name="right">ConsumerC</arg>
                              </function>
                           </condition>
                        </link>
                        <link id="hdf683fa6-bf4c-41fb-a0b2-2b25e27343d6"
                              targetId="g0be50296-8d7c-4c3d-afd9-17ebcc101b58"
                              type="containerLink"/>
                        <link id="z08b6dc22-3e95-4d58-a35f-c00f2d05bfe5"
                              targetId="a14L0daQ56MJ1h9zv1qFNSU1-Jumpa571d485-7e47-4480-b2bf-930412c550b7"/>
                     </container>
                     <jumpTo id="a14L0daQ56MJ1h9zv1qFNSU1-Jumpa571d485-7e47-4480-b2bf-930412c550b7">
                        <link id="j01d7a042-6fe1-4045-87c0-a1d07ca3c919"
                              targetId="a14L0daQ56MJ1h9zv1qFNSU1-m1l0gnf1"/>
                     </jumpTo>
                  </flow>
                  <link id="e78bb42f2-8054-48f4-89fc-643a4a318d7b"
                        targetId="v06778ce8-c61d-4892-83f4-153e4903c1fd"
                        type="containerLink">
                     <condition source="formula">
                        <function name="empty">
                           <arg name="field">{$temp.tempCustomerList}</arg>
                        </function>
                     </condition>
                  </link>
                  <link id="s4b7fce0b-e1a9-4fd1-a1ef-81815fb2d817"
                        targetId="g41688132-8e03-405f-92ab-7ef2fc0fe366"
                        type="containerLink">
                     <condition source="formula">
                        <function name="not-empty">
                           <arg name="field">{$temp.tempCustomerList}</arg>
                        </function>
                     </condition>
                  </link>
               </container>
            </flow>
         </process>
         <ns1:sample-data-sets xmlns:ns1="http://schemas.active-endpoints.com/appmodules/repository/2010/10/sampleData.xsd">
            <ns1:SampleData>
               <ns1:Id>3815e3ae-e434-4d64-abf7-8563614fe4df</ns1:Id>
               <ns1:Name>test</ns1:Name>
               <ns1:CreatedBy>joramos_LATAM_Carlos_tspod_SO</ns1:CreatedBy>
               <ns1:CreationDate>2025-03-06T21:34:12Z</ns1:CreationDate>
               <ns1:ModifiedBy>joramos_LATAM_Carlos_tspod_SO</ns1:ModifiedBy>
               <ns1:ModificationDate>2025-03-08T20:02:44Z</ns1:ModificationDate>
               <ns1:Data format="json">{}</ns1:Data>
            </ns1:SampleData>
         </ns1:sample-data-sets>
      </types1:Entry>
      <types1:GUID>4L0daQ56MJ1h9zv1qFNSU1</types1:GUID>
      <types1:DisplayName>Customer Process</types1:DisplayName>
   </types1:Item>
   <types1:CurrentServerDateTime>2025-03-11T21:06:05.257Z</types1:CurrentServerDateTime>
</aetgt:getResponse>
